pipeline{
agent any
	stages{
		stage('Build'){
			steps{
					echo "Build the project from SCM->GitRepo...."
					bat "mvn clean"
				}
		}
		
		stage('Install'){
			steps{
				echo "Compiling the project..."
				bat "mvn install"
			}
		}
		
		stage('Test'){
			steps{
					echo "Running the test cases...."
					bat "mvn test"
				}
		}		
	}
	
	post { 
        always { 
            echo 'Copying the jar file from target folder....'
            bat "powershell -command Copy-Item -Path 'target\\*.jar' -Destination 'C:\\Sofrwares\\Executable Jars\\' -Recurse"
            
            bat "powershell -command scp -r 'C:\\Sofrwares\\Executable Jars\\' sanjoyde@20.41.216.213:/home"
        }
    }

}